<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="Mon, 22 Jul 2002, 11:12:01 GMT" />
    <title>Rubio volador</title>
    <link rel="shortcut icon" href="favicon.ico" />
    <link
      href="https://fonts.googleapis.com/css?family=Playfair+Display:400,700,700italic"
      rel="stylesheet"
      type="text/css"
    />
    <link
      rel="stylesheet"
      href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.0/themes/smoothness/jquery-ui.css"
    />
    <link rel="stylesheet" type="text/css" href="css/game.css" />
    <script type="text/javascript" src="js/TweenMax.min.js"></script>
    <script type="text/javascript" src="js/three.min.js"></script>
    <script type="text/javascript" src="js/game.js"></script>
  </head>
  <body>
    <div class="game-holder" id="gameHolder">
      <div class="header">
        <h1>El rubio volador</h1>
        <br />
        <h2>¿Hasta dónde llegará?</h2>
        <div class="score" id="score">
          <div class="score__content" id="level">
            <div class="score__label">Nivel</div>
            <div class="score__value score__value--level" id="levelValue">
              1
            </div>
            <svg class="level-circle" id="levelCircle" viewbox="0 0 200 200">
              <circle
                id="levelCircleBgr"
                r="80"
                cx="100"
                cy="100"
                fill="none"
                stroke="#d1b790"
                stroke-width="24px"
              />
              <circle
                id="levelCircleStroke"
                r="80"
                cx="100"
                cy="100"
                fill="none"
                #f25346
                stroke="#68c3c0"
                stroke-width="14px"
                stroke-dasharray="502"
              />
            </svg>
          </div>
          <div class="score__content" id="dist">
            <div class="score__label">Puntuacion</div>
            <div class="score__value score__value--dist" id="distValue">
              000
            </div>
          </div>
          <div class="score__content" id="energy">
            <div class="score__label">Energia</div>
            <div class="score__value score__value--energy" id="energyValue">
              <div class="energy-bar" id="energyBar"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="world" id="world"></div>
      <div class="message message--replay" id="replayMessage">
        Vover a jugar
      </div>

      <div id="dialog" title="Basic dialog">¿Que quieres hacer?</div>
      <div class="message message--instructions" id="instructions">
        <div class="keysleft">
          <div style="color: gold"" >Llaves para superar nivel:
        </div>
        <div id="showKeysToNext" style="color: gold; font-size: 3em"></div>
      </div>
      ¡Coge la energía!<span>¡Huye de las bolas rojas!</span>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.0/jquery-ui.min.js"></script>

    <script>
      $(function() {
        $("#dialog").dialog({
          buttons: [
            {
              text: "Jugar",
              icon: "ui-icon-play",
              click: function() {
                $(this).dialog("close");
                document.querySelector("#instructions").style.display =
                  "inline-block";
                document.querySelector(".score").style.visibility = "visible";
                document.querySelector(".keysleft").style.visibility =
                  "visible";
                init();
              }
            },
            {
              text: "Pantalla completa",
              icon: "ui-icon-arrowthick-2-ne-sw",
              width: "220px",
              click: function() {
                openFullscreen();
              }
            },
            {
              text: "Ver el framework",
              icon: "ui-icon-document",
              click: function() {
                window.open(
                  "https://threejs.org/docs/index.html#manual/en/introduction/Creating-a-scene"
                );
              }
            }
          ],
          closeOnEscape: false,
          draggable: false,
          modal: true,
          resizable: false,
          show: { effect: "scale", duration: 1000 },
          hide: { effect: "explode", pieces: 18, duration: 1000 }
        });
      });

      var screen = document.documentElement;

      $(document).ready(function() {
        $(".ui-button").hover(
          function() {
            console.log("sdfg");
            $(this)
              .filter(":not(:animated)")
              .animate({ width: "270px" });
          },
          function() {
            $(this).animate({ width: "220px" });
          }
        );
      });

      function openFullscreen() {
        if (screen.requestFullscreen) {
          screen.requestFullscreen();
        } else if (screen.mozRequestFullScreen) {
          /* Firefox */
          screen.mozRequestFullScreen();
        } else if (screen.webkitRequestFullscreen) {
          /* Chrome, Safari and Opera */
          screen.webkitRequestFullscreen();
        } else if (screen.msRequestFullscreen) {
          /* IE/Edge */
          screen.msRequestFullscreen();
        }
      }
    </script>
  </body>
</html>
